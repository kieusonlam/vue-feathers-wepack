webpackJsonp([2],{276:function(t,e,i){i(300);var o=i(169)(i(282),i(294),null,null);t.exports=o.exports},282:function(t,e,i){"use strict";function o(t){return t.dispatch("FETCH_POST",{id:t.state.route.params.id})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"item-view",data:function(){return{loading:!0,editing:!1,error:null}},computed:{item:function(){return this.$store.state.posts.single},authenticated:function(){return this.$store.state.auth.authenticated}},methods:{editPost:function(){1==this.editing&&this.updatePost(),this.editing=!this.editing},updatePost:function(){var t=this;this.$store.dispatch("UPDATE_POST",{id:this.$store.state.route.params.id,title:this.item.title,content:this.item.content}).then(function(t){return console.log(t)}).catch(function(e){o(t.$store),console.log(e),t.error="You cannot edit this post."})},removePost:function(){var t=this;this.$store.dispatch("REMOVE_POST",{id:this.$store.state.route.params.id}).then(function(e){return t.$router.push({path:"/"})}).catch(function(e){console.log(e),t.error="You cannot remove this post."})}},preFetch:o,beforeMount:function(){o(this.$store)}}},286:function(t,e,i){e=t.exports=i(168)(void 0),e.push([t.i,".item-view-header{background-color:#fff;padding:1.8em 2em 1em;box-shadow:0 1px 2px rgba(0,0,0,.1)}.item-view-header h1,.item-view-header input{display:inline;font-size:1.5em;margin:0;margin-right:.5em;color:#34495e;font-weight:700}.item-view-header .host,.item-view-header .meta,.item-view-header .meta a{color:#999}.item-view-header .meta a{text-decoration:underline}.item-view-content{background-color:#fff;margin-top:10px;padding:2em;box-shadow:0 1px 2px rgba(0,0,0,.1)}@media (max-width:600px){.item-view-header h1{font-size:1.25em}}",""])},294:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("div",{staticClass:"item-view"},[t.item?[i("div",{staticClass:"item-view-header"},[t.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.title,expression:"item.title"}],domProps:{value:t.item.title},on:{input:function(e){e.target.composing||(t.item.title=e.target.value)}}}):i("h1",[t._v(t._s(t.item.title))]),i("div",{staticClass:"meta"},[t.item.authorInfo?i("span",{staticClass:"author"},[t._v("Posted by "+t._s(t.item.authorInfo.email))]):t._e(),i("span",[t._v(" at "+t._s(t._f("datetime")(t.item.createdAt)))])])]),t.editing?i("div",{staticClass:"item-view-content"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.content,expression:"item.content"}],domProps:{value:t.item.content},on:{input:function(e){e.target.composing||(t.item.content=e.target.value)}}})]):i("div",{staticClass:"item-view-content",domProps:{innerHTML:t._s(t.item.content)}}),i("br"),t.error?i("div",[t._v("\n      "+t._s(t.error)),i("br"),i("br")]):t._e(),t.authenticated?i("div",[t.editing?i("button",{on:{click:t.editPost}},[t._v("Update")]):i("button",{on:{click:t.editPost}},[t._v("Edit")]),i("button",{on:{click:t.removePost}},[t._v("Remove")])]):t._e()]:t._e()],2):t._e()},staticRenderFns:[]}},300:function(t,e,i){var o=i(286);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(170)("5094332e",o,!0)}});